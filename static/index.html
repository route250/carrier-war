<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Carrier war</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <!-- Entrance View -->
    <div id="view-entrance" class="view">
      <div class="center">
        <h1>Carrier war</h1>
        <p class="muted">ユーザ名を入力してください</p>
        <div class="form-row">
          <input id="usernameInput" type="text" placeholder="ユーザ名" />
          <button id="enterLobby">ロビーへ</button>
        </div>
      </div>
    </div>

    <!-- Lobby View -->
    <div id="view-lobby" class="view hidden">
      <header class="topbar">
        <div class="title">ロビー</div>
        <div class="controls">
          <span id="lobbyUser" class="hint"></span>
        </div>
      </header>
      <main class="lobby">
        <section id="lobby-pvp">
            <div class="pvp-actions">
            <button id="btnCreateMatch">マッチ作成</button>
            <span class="divider"></span>
            <button id="btnCreateCpuEasy">CPU (Easy)</button>
            <button id="btnCreateCpuMedium">CPU (Medium)</button>
            <button id="btnCreateCpuHard">CPU (Hard)</button>
          </div>
          <div id="matchList" class="match-list empty">読み込み中...</div>
        </section>
      </main>
    </div>

    <!-- Match Room View (PvP) -->
    <div id="view-match" class="view hidden">
      <header class="topbar">
        <div class="title machInfo">PvP対戦 <span id="matchInfo" class="hint"></span></div>
        <div class="controls">
          <span class="divider"></span>
          <button id="btnLeaveMatch">ロビーへ戻る</button>
        </div>
      </header>
      <main class="match-room">
        
        <section class="match-layout">
          <div class="match-board">
            <canvas id="matchCanvas" width="540" height="540" aria-label="PvPマップ"></canvas>
            <div class="legend">
              <div><span class="chip chip-carrier"></span>空母</div>
              <div><span class="chip chip-circle" style="background: var(--squad); border: 1px solid #9b7f2e"></span>航空部隊</div>
              <div><span class="chip" style="background: var(--enemy); border: 1px solid #7a2c2c"></span>敵空母</div>
              <div><span class="chip chip-diamond" style="background: var(--enemy); border: 1px solid #7a2c2c"></span>敵航空部隊</div>
            </div>
          </div>
          <aside class="match-sidebar">
            <section>
              <div class="section-head">
                <button class="mode-btn" id="btnMatchModeMove" data-match-mode="move">空母</button>
              </div>
              <div id="matchCarrierStatus" class="panel"></div>
            </section>
            <section>
              <div class="section-head">
                <button class="mode-btn" id="btnMatchModeLaunch" data-match-mode="launch">航空部隊</button>
              </div>
              <div id="matchSquadronList" class="panel"></div>
            </section>
            <div class="sidebar-controls">
              <span id="matchHint" class="hint"></span>
              <button id="btnSubmitReady">Done</button>
            </div>
          </aside>
        </section>
        <section>
          <h2>ログ</h2>
          <div id="matchLog" class="log"></div>
        </section>
      </main>
    </div>
    <script src="/static/main.js"></script>
  </body>
  </html>
